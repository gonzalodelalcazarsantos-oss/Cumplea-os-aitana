<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sorpresa de cumple ‚Äî Aitana üéâ</title>

<style>
  :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{margin:0;background:linear-gradient(180deg,#fff8e6,#f2efe9);color:#222;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;}
  .card{width:100%;max-width:820px;background:white;border-radius:12px;box-shadow:0 8px 30px rgba(2,8,23,0.12);padding:26px;}
  h1{margin:0 0 8px;font-size:22px}
  p.lead{margin:6px 0 18px;color:#555}
  .puz{margin:14px 0;padding:16px;border-radius:8px;background:#fff9f0;border:1px dashed #efcf9e}
  input[type=text]{width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;font-size:15px}
  button{background:#1f7a8c;color:white;padding:10px 14px;border-radius:8px;border:0;font-weight:700;cursor:pointer}
  .letters{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;}
  .lett{min-width:36px;height:36px;border-radius:6px;background:#efefef;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px}
  .earned{background:#c8f3e0}
  .final{margin-top:16px;padding:16px;background:#fff4f0;border-radius:8px;border:1px solid #ffd6c2;font-size:18px;font-weight:700;text-align:center}
  .control{margin-top:10px;display:flex;gap:8px;justify-content:center;}
</style>
</head>

<body>
<main class="card">
<h1>Sorpresa de cumple ‚Äî Aitana üéâ</h1>
<p class="lead">
Resuelve los acertijos para descubrir poco a poco tu sorpresa.
</p>

<div class="control">
  <button onclick="prev()">‚¨ÖÔ∏è Anterior</button>
  <button onclick="next()">Siguiente ‚û°Ô∏è</button>
</div>

<div id="content"></div>

<script>
// ----------------------
// FRASE FINAL
// ----------------------
const finalPhrase = "NOS VAMOS DE VIAJE A EGIPTO";
const phraseArray = finalPhrase.split("");

// ----------------------
// PISTAS (UNA letra ‚Üí UNA posici√≥n)
// ----------------------
const puzzles = [
 {q:"El juego comienza es tu primer acertijo a esta hora comienzan las mejores cosas peeero tambi√©n se acaban", a:["12"], letter:"N", pos:0},
  {q:"Piensa que te piensa siempre consigues tu respuesta y por m√°s cuestiones que te hagas y respuestas que consigues siempre repites lo mismo", a:["A"], letter:"A", pos:5},
  {q:"¬øA d√≥nde quieres ir?, ¬øqu√© quieres comer?,¬øqu√© quieres hacer? siempre tienen una respuesta incorrecta", a:["NOSE"], letter:"O", pos:1},
  {q:"Conoc√≠as a muchas y desde que van en lo alto de los coches la gente las confunde", a:["VACA"], letter:"O", pos:7},
  {q:"Grande y temida pero nose por que si nunca tiene hambre", a:["BALLENA"], letter:"A", pos:15},
  {q:"¬øQu√© planeta es el tercero del sistema solar? esta es facilitaaa no vale buscarla", a:["TIERRA"], letter:"O", pos:8},
  {q:"¬øQu√© fruta es t√≠pica del oto√±o y empieza por C?", a:["CASTA√ëA"], letter:"A", pos:19},
  {q:"Soy un p√°jaro y soy plana y si me juntas soy", a:["AVELLANA"], letter:"S", pos:2},
  {q:"¬øQu√© compa√±ero tienes durante el d√≠a, que te aguanta m√°s en verano que en invierno", a:["SOL"], letter:"S", pos:9},
  {q:"Soy un elemento, me llevo las cosas si te descuidas y all√≠ por el sur me nombran mucho para que la gente se vaya", a:["AIRE"], letter:"E", pos:11},
  {q:"¬øCu√°l es el mes del Amor?", a:["FEBRERO"], letter:"D", pos:10},
  {q:"Con copa y sin ser √°rbol, con alas sin ser p√°jaro y siempre descanso en lo m√°s alto", a:["SOMBRERO"], letter:"O", pos:14},
  {q:"¬øQui√©nes tienen un juicio sin ser juzgadas?", a:["MUELAS"], letter:"M", pos:6},
  {q:"Si dices mi nombre me rompes", a:["SILENCIO"], letter:"V", pos:4},
  {q:"Te vas y vuelves, no sabes diferenciar a d√≥nde tienes que ir, pero aun as√≠ es un sitio muy especial para ti", a:["AEROPUERTO"], letter:"I", pos:14},
  {q:"Cuando t√∫ vas yo vengo y aunque llegamos a sitios diferentes los dos empezamos en el mismo", a:["V"], letter:"V", pos:13},
  {q:"¬øQu√© letra es la d√©cima del abecedario?", a:["J"], letter:"J", pos:16},
  {q:"Todo el mundo lo tiene y mientras que no a todos les gusta hay a otros que casi se les gasta", a:["NOMBRE"], letter:"T", pos:24},
  {q:"Aunque mi nombre a los ni√±os asuste, muy rico estoy, soy bastante veraniego y lleno de pelos estoy", a:["COCO"], letter:"I", pos:22},
  {q:"Vuelves otra vez al piensa que te piensa, y por m√°s que piensas solo repites esta letra", a:["E"], letter:"E", pos:17},
  {q:"Hay un Abuelito gordinfl√≥n que a muchos ni√±os hace feliz pero se mete por las chimeneas al rev√©s porque no le gusta su nombre ¬øC√≥mo se quiere llamar?", a:["LEON"], letter:"G", pos:21},
  {q:"¬øQu√© consonante va antes de la Q?", a:["P"], letter:"P", pos:23},
  {q:"¬øQu√© letra est√° en la palabra ELEFANTE tres veces?", a:["E"], letter:"E", pos:20} 
];

// ----------------------
// ESTADO
// ----------------------
let current = 0;
let discovered = Array(phraseArray.length).fill(null);

// ----------------------
// RENDER
// ----------------------
function render(){
  const div = document.getElementById("content");

  const display = phraseArray.map((l,i)=>{
    if(l===" ") return " ";
    return discovered[i] ?? "‚Äî";
  });

  const finished = display.every((c,i)=>c!=="‚Äî" || phraseArray[i]===" ");

  if(finished){
    div.innerHTML = `
      <h2>üéâ ¬°Has completado todas las pistas!</h2>
      <p class="final">${finalPhrase}</p>
    `;
    return;
  }

  div.innerHTML = `
    <div class="puz">
      <p><strong>Pista ${current+1}:</strong> ${puzzles[current].q}</p>
      <input id="answer" type="text" placeholder="Tu respuesta..." />
      <button onclick="check()">Comprobar</button>
    </div>

    <h3>Frase:</h3>
    <div class="letters">
      ${display.map(l=>`<div class="lett ${l!=='‚Äî'?'earned':''}">${l}</div>`).join("")}
    </div>
  `;
}

// ----------------------
// CHECK
// ----------------------
function check(){
  const inp = document.getElementById("answer").value.trim().toUpperCase();
  const valid = puzzles[current].a.map(a=>a.toUpperCase());

  if(valid.includes(inp)){
    const {pos, letter} = puzzles[current];
    discovered[pos] = letter;
    render();
  } else {
    alert("Respuesta incorrecta ‚ù§Ô∏è");
  }
}

// ----------------------
// NAVEGACI√ìN
// ----------------------
function next(){ if(current < puzzles.length-1) current++; render(); }
function prev(){ if(current > 0) current--; render(); }

// INIT
render();
</script>
</main>
</body>
</html>
